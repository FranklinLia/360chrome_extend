<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Mr.Liang">
	<meta name="renderer" content="webkit">
	<meta name="keywords" content="批量导入">
	<meta name="description" content="批量导入">
	<title>批量导入</title>
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script> -->
	<script type="text/javascript" src="../js/layui.js"></script>
	<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>
	<!-- <script type="text/javascript" src="../js/muse-ui.js"></script> -->
	<script type="text/javascript" src="../js/layer.js"></script>
	<script type="text/javascript" src="../js/background.js"></script>
	<!-- <script src="https://unpkg.com/mint-ui/lib/index.js"></script> -->
	<link rel="stylesheet" href="../css/layui.css">
	<link rel="stylesheet" href="../css/layer.css">
	<!-- <link rel="stylesheet" href="../css/msui.css"> -->
	<link rel="stylesheet" href="../css/common.css">
	<!-- <link rel="stylesheet" href="https://unpkg.com/mint-ui/lib/style.css"> -->
	<style>
		body{
			background: #f5f5f5;
		}
		.options-container{
			width: 100%;
			height: 100%;
		}
		.slider{
			width: 100%;
			height: 100%;
			background: #fff;
			padding: 20px 0;
		}
		.wrapper{
			margin-left: 15%;
			width: 60%;
		}
		.slider img{
			width: 16%;
			margin-left: 42%;
		}
		.slider p {
			background: #f1f7f8;
			height: 40px;
			line-height: 40px;
			margin-bottom: 20px;
			text-indent: 20px;
			font-size: 16px;
		}
		.slider p:hover{
			background: #2F9A7F;
			color: #fff;
		}
		.slider p.active{
			border-right: 2px solid #2F9A7F;
		}
		.wc-bg{
			width: 100%;
			height: 10px;
			border-radius: 10px;
			position: relative;
			background: #f5f5f5;
		}
		.wc-top{
			position: absolute;
			top: 0;
			left: 0;
			height: 10px;
			border-radius: 10px;
			background: linear-gradient(to right,rgb(255, 180, 68), #ff0000);
		}
		.wc-top2{
			position: absolute;
			top: 0;
			left: 0;
			height: 10px;
			border-radius: 10px;
			background: linear-gradient(to right,rgb(255, 180, 68), #ff0000);
		}
		.wrapper{
			padding: 50px 5%;
		}
		.wrapper-content{
			padding:40px 0;
			background: #fff;
		}
		.wrapper-header{
			display: flex;
		}
		.wrapper-header h1{
			font-size: 16px;
			color: #666;
			padding: 10px 10px;
			margin-right: 20px;
			line-height: 30px;
			background: #f1f1f1;
			cursor: pointer;		
		}
		.wrapper-header h1.active{
			font-size: 18px;
			color: #2F9A7F;
			background: #fff;
			border-bottom: 1px solid #fff;
		}
		.wc-item{
			display: flex;
			align-items: center;
			font-size: 16px;
			padding: 0 40px;
			background: #fff;
		}
		.wc-item .tip{
			font-size: 14px;
			color: #999;
		}
		.wc-left{
			flex: 0 0 30%;
			padding: 10px 0;
			margin-right: 10px;
		}
		.wc-left p span{
			font-size: 14px;
			color: #666;
		}
		.wc-right{
			flex: 1;
		}
		.wc-right.status{
			display: flex;
		}
		.wci-item{
			position: relative;
			margin-right: 20px;
			display: flex;
			align-items: center;
		}
		.wci-item span{
		    position: relative;
		    top: 0;
		    left: 0;
		    margin-right: 5px;
		    display: inline-block;
		    width: 16px;
		    height: 16px;
		    border: 1px solid #d7d8d9;
		    border-radius: 50%;
		    background-color: #fff;
		    transition: all .3s;
		    cursor: pointer;
		}
		.wci-item span:after{
    		position: absolute;
		    width: 8px;
		    height: 8px;
		    left: 4px;
		    top: 4px;
		    border-radius: 50%;
		    content: "";
		    background-color: #1abc9c;
		    opacity: 0;
		    transform: scale(0);
		    transition: all .3s cubic-bezier(.78,.14,.15,.86);
		}
		.wci-item.active span{
			border: 1px solid #1abc9c;
		}
		.wci-item.active span:after{
			opacity: 1;
    		transform: scale(1);
		}
		.wci-item.active label{
			color: #1abc9c;
		}
		.wc-right input{
			height: 24px;
			text-indent: 10px;
			border: 1px solid #e1e1e1;
		}
		.wc-right input:hover{
			border: 1px solid #1abc9c;
		}
		.wc-right .count{
			height: 30px;
			line-height: 30px;
		}
		.wc-right .enter{
			margin-left: 20px;
			font-size: 12px;
			height: 30px;
			line-height: 30px;
			padding: 0 10px;
			background: #2F9A7F;
			border: 1px solid #2F9A7F;
			cursor: pointer;
			color: #fff;
		}
		.wc-right .enter.active{
			background: #f5f5f5;
			border: 1px solid #e1e1e1;
			color: #999;
		}
		.wc-click{
			margin-left: 10px;
			padding: 0 10px;
			height: 30px;
			line-height: 30px;
			background: #2F9A7F;
			border: 1px solid #2F9A7F;
			font-size: 12px;
			cursor: pointer;
			color: #fff;
		}
		.wc-click.active{
			background: #f5f5f5;
			color: #999;
			border: 1px solid #f5f5f5;
		}
		.wc-clear{
			margin-left: 10px;
			padding: 0 10px;
			height: 30px;
			line-height: 30px;
			background: #f5f5f5;
			border: 1px solid #e1e1e1;
			font-size: 12px;
			cursor: pointer;
			color: #999;
		}
		.wc-item.sea{
			padding: 0;
			font-size: 14px;
		}
		.wc-footer{
			margin-top: 10px;
			padding: 0 40px;
		}
		.wc-footer h1{
			padding-top: 10px;
			font-size: 14px;
			font-weight: bold;
			color: #333;
			border-top: 1px solid #1abc9c;
			border-bottom: none;
		}
		.wcc{
			margin-top: 10px;
			background: #f5f5f5;
		}
		.wcc-header{
			display: flex;
			align-items: center;
			height: 40px;
			line-height: 40px;
			text-align: center;
			font-size: 16px;
			border-bottom: 1px solid #e1e1e1;
		}
		.mainname{
			flex: 0 0 20%;
			border-right: 1px solid #e1e1e1;
		}
		.maintype{
			flex: 1;
			border-right: 1px solid #e1e1e1;
		}
		.mainpid{
			flex: 0 0 40%;
			border-right: 1px solid #e1e1e1;
		}
		.maintime{
			flex: 0 0 30%;
		}
		.wcc-items{
			padding: 10px 0;
			padding-bottom: 30px;
			background: #b4b4b4;
			height: 200px;
			color: #f5f5f5;
			overflow-y: scroll;
		}
		.wcc-item{
			display: flex;
			text-align: center;
			padding: 5px 0;
			font-size: 14px;
		}
		.wcc-item .name{
			flex: 0 0 20%;
			line-height: 14px;
		}
		.wcc-item .type{
			flex: 1;
		}
		.wcc-item .time{
			flex: 0 0 30%;
		}
		.wcc-item .pid{
			flex: 0 0 40%;
		}
		.wc-succ{
			display: flex;
			margin: 0 40px;
			height: 30px;
			line-height: 30px;
			font-size: 16px;
		}
		.wcs-left{
			margin-right: 20px;
		}
		.wcs-left span,.wcs-right span{
			margin-left: 10px;
			background: #f5f5f5;
			padding: 2px 10px;
			font-size: 14px;
			border-radius: 4px;
			color: #1abc9c;
		}
		.wc-start{
			padding: 0 40px;
			display: flex;
		}
		.wc-start p{
			background: #f5f5f5;
			border: 1px solid #e1e1e1;
			width: 100px;
			padding: 5px 0;
			font-size: 14px;
			text-align: center;
			cursor: pointer;
		}
		.wc-start p.active{
			background: #2F9A7F;
			color: #fff;
			border: 1px solid #2F9A7F;
		}
		.wc-start .sum{
			margin-left: 20px;
			width: 200px;
		}
		.wc-right select{
			width: 200px;
			height: 24px;
			border: 1px solid #e1e1e1;
		}
		.auto{
			display: flex;
		}
		.auto span{
			font-size: 14px;
		}
		.auto span label{
			color: #999;
		}
		.auto input{
			width: 60px;
			height: 20px;
			border: 1px solid #e1e1e1;
			text-align: center;
			text-indent: 0;
		}
	</style>
</head>
<body>
	<div class="options-container" id="container">
		<div class="slider">
			<img src="../img/logo.png" />
		</div>
		<div class="wrapper">
			<div class="wrapper-header">
				<h1 :class="{active: isActive == 1}" @click="choose(1)" v-show="!isHeader1">{{title}}</h1>
				<h1 :class="{active: isActive == 1}" v-show="isHeader1">{{title}}</h1>
				<h1 :class="{active: isActive == 2}" @click="choose(2)" v-show="!isHeader2">批量自动创建pid</h1>
				<h1 :class="{active: isActive == 2}" v-show="isHeader2">批量自动创建pid</h1>
				<h1 :class="{active: isActive == 3}" @click="choose(3)" v-show="!isHeader3">批量导入历史生成的pid</h1>
				<h1 :class="{active: isActive == 3}" v-show="isHeader3">批量导入历史生成的pid</h1>
			</div>			
			<div class="wrapper-content" v-show="isActive == 1">
				<ul>
					<li class="wc-item">
						<div class="wc-left">
							<p>选择推广媒介:</p>
						</div>
						<div class="wc-right status">
							<!-- <input type="radio" name="media" class="statu" value="app" checked="checked"> app
							<input type="radio" name="media" class="statu" value="淘宝"> 淘宝
							<input type="radio" name="media" class="statu" value="京东"> 京东 -->
							<div class="wci-item" :class="{active: statu == 0}" @click="change(0)">
								<span></span>
								<label>网站推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 7}" @click="change(7)">
								<span></span>
								<label>APP推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 8}" @click="change(8)">
								<span></span>
								<label>导购推广</label>
							</div>
						</div>
					</li>
					<li class="wc-item">
						<div class="wc-left">
							
						</div>
						<div class="wc-right status">
							<select v-model="selected" @change="getSelected">
								<option v-for="(item, index) in idList" :value="item">{{item.name}}</option>
							</select>
						</div>
					</li>
					<li class="wc-item">
						<div class="wc-left">
							<p>推广位名称前缀:</p>
						</div>
						<div class="wc-right status">
							<input type="text" placeholder="例如：代理" class="wc-num" v-model.trim="webname">
						</div>
					</li>
					<li class="wc-item" style="line-height: 14px;">
	    				<div class="wc-left">
	    					<p>创建推广位时间间隔<span>(默认5秒，时间太短容易失败)</span></p>
	    				</div>
	    				<div class="wc-right">
	    					<div id="slideTest1"></div>
	    				</div>
	    			</li>
					<li class="wc-item">
						<div class="wc-left">
							<p>选择你要生成的数量<span>(上限{{max_num - left_num || 0}})</span>:</p>
						</div>
						<div class="wc-right status">
							<input type="text" placeholder="请选择生成的数量" v-model.trim="realnum" class="wc-num">
							<p class="wc-click" @click="build(1)" v-if="isBuild">点击生成</p>
							<p class="wc-click active" @click="build2()" v-else>结束生成</p>
							<p class="wc-clear" @click="clear()">清除记录</p>
						</div>
					</li>					
					<li class="wc-item">
						<div class="wc-left">
							<p>生成进度:</p>
						</div>
						<div class="wc-right">
							<div class="wc-bg">
								<div class="wc-top" id="wc-top">
								</div>
							</div>
						</div>
					</li>
					<li class="wc-footer">
						<h1>生成记录</h1>
						<div class="wcc">
							<div class="wcc-header">
								<p class="mainname">推广位名称</p>
								<p class="mainpid">pid</p>
								<p class="maintype">生成状态</p>
								<p class="maintime">生成时间</p>
							</div>
							<ul class="wcc-items">
								<li class="wcc-item" v-for="(item, index) in webHisList">
									<p class="name">{{item.name}}</p>
									<p class="pid">{{item.pid}}</p>
									<p class="type">{{item.statu}}</p>
									<p class="time">{{item.timestamp}}</p>
								</li>
							</ul>
						</div>
					</li>
				</ul>
			</div>
			<div class="wrapper-content" v-show="isActive == 2">
				<ul>
					<li class="wc-item">
						<div class="wc-left">
							<p>选择推广媒介:</p>
						</div>
						<div class="wc-right status">
							<!-- <input type="radio" name="media" class="statu" value="app" checked="checked"> app
							<input type="radio" name="media" class="statu" value="淘宝"> 淘宝
							<input type="radio" name="media" class="statu" value="京东"> 京东 -->
							<div class="wci-item" :class="{active: statu == 0}" @click="change(0)">
								<span></span>
								<label>网站推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 7}" @click="change(7)">
								<span></span>
								<label>APP推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 8}" @click="change(8)">
								<span></span>
								<label>导购推广</label>
							</div>
						</div>
					</li>
					<li class="wc-item">
						<div class="wc-left">
							
						</div>
						<div class="wc-right status">
							<select v-model="selected" @change="getSelected">
								<option v-for="(item, index) in idList" :value="item">{{item.name}}</option>
							</select>
						</div>
					</li>
					<li class="wc-item">
						<div class="wc-left">
							<p>推广位名称前缀:</p>
						</div>
						<div class="wc-right status">
							<input type="text" placeholder="例如：代理" class="wc-num" v-model.trim="webname">
						</div>
					</li>
					<li class="wc-item auto">
						<div class="wc-left">
							<span>pid数量低于此值自动创建：</span>
							<input type="text" placeholder="1" v-model.trim="allMin">
						</div>
						<div class="wc-right">
							<span>创建pid数量高于此值自动停止<label>(不能超过{{max_num || 0}})</label>：</span>
							<input type="text" placeholder="5000" v-model.trim="allMax">
						</div>						
					</li>
					<li class="wc-item" style="line-height: 14px;">
	    				<div class="wc-left">
	    					<p>创建推广位时间间隔<span>(默认5秒，时间太短容易失败)</span></p>
	    				</div>
	    				<div class="wc-right">
	    					<div id="slideTest2"></div>
	    				</div>
	    			</li>
	    			<li class="wc-start">
						<p @click="start()" v-if="!isStart" :class="{active: !isStart}">自动批量创建</p>
						<p @click="start2()" v-else>结束自动创建</p>
						<p class="sum">目前推广池pid数量:{{left_num || 0}}</p>
					</li>					
					<li class="wc-footer">
						<h1>生成记录</h1>
						<div class="wcc">
							<div class="wcc-header">
								<p class="mainname">推广位名称</p>
								<p class="mainpid">pid</p>
								<p class="maintype">生成状态</p>
								<p class="maintime">生成时间</p>
							</div>
							<ul class="wcc-items">
								<li class="wcc-item" v-for="(item, index) in webHisList">
									<p class="name">{{item.name}}</p>
									<p class="pid">{{item.pid}}</p>
									<p class="type">{{item.statu}}</p>
									<p class="time">{{item.timestamp}}</p>
								</li>
							</ul>
						</div>
					</li>
				</ul>
			</div>
			<div class="wrapper-content" v-show="isActive == 3">
				<ul>
					<li class="wc-item">
						<div class="wc-left">
							<p>选择推广媒介:</p>
						</div>
						<div class="wc-right status">
							<div class="wci-item" :class="{active: statu == 0}" @click="change(0)">
								<span></span>
								<label>网站推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 7}" @click="change(7)">
								<span></span>
								<label>APP推广</label>
							</div>
							<div class="wci-item" :class="{active: statu == 8}" @click="change(8)">
								<span></span>
								<label>导购推广</label>
							</div>
						</div>
					</li>
					<li class="wc-item">
						<div class="wc-left">
							<p>查询出推广位数量:</p>
						</div>
						<div class="wc-right status">
							<p class="count">{{seaNum}}</p>
							<p class="enter" @click="enter()" v-if="isEnter">点击导入</p>
							<p class="enter active" @click="enter2()" v-else>导入中</p>
						</div>
					</li>				
					<li class="wc-item">
						<div class="wc-left">
							<p>导入进度:</p>
						</div>
						<div class="wc-right">
							<div class="wc-bg">
								<div class="wc-top2" id="wc-top2">
								</div>
							</div>
						</div>
					</li>
					<li class="wc-succ">
						<div class="wcs-left">
							<p>重复数量<span>{{repeat_num}}</span></p>
							
						</div>
						<div class="wcs-right">
							<p>成功数量<span>{{success_num}}</span></p>							
						</div>
					</li>	
					<li class="wc-footer">
						<h1>生成记录</h1>
						<div class="wcc">
							<div class="wcc-header">
								<p class="mainname">推广位名称</p>
								<p class="mainpid">pid</p>
								<p class="maintype">生成状态</p>
								<p class="maintime">生成时间</p>
							</div>
							<ul class="wcc-items">
								<li class="wcc-item" v-for="(item, index) in webHisList">
									<p class="name">{{item.name}}</p>
									<p class="pid">{{item.pid}}</p>
									<p class="type">{{item.statu}}</p>
									<p class="time">{{item.timestamp}}</p>
								</li>
							</ul>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
	
</body>
	<script type="text/javascript" src="../js/vue.js"></script>
	<script type="text/javascript" src="../js/options.js"></script>
</html>